<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="NMCP Yemen"><link href=https://hamza-ye.github.io/nmcpye-data-mapping/final-report/ rel=canonical><link href=../additional-data/ rel=prev><link href=../index-old/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.15"><title>Final report - NMCPYe Data Mapping</title><link rel=stylesheet href=../assets/stylesheets/main.7e359304.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../css/timeago.css><link rel=stylesheet href=../stylesheets/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#report-final class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="NMCPYe Data Mapping" class="md-header__button md-logo" aria-label="NMCPYe Data Mapping" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> NMCPYe Data Mapping </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Final report </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/Hamza-ye/nmcpye-data-mapping title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Hamza-ye/nmcpye-data-mapping </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Report staging </a> </li> <li class=md-tabs__item> <a href=../additional-data/ class=md-tabs__link> Additional Data </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Final report </a> </li> <li class=md-tabs__item> <a href=../index-old/ class=md-tabs__link> NMCP Yemen Data Mapping Docs </a> </li> <li class=md-tabs__item> <a href=../shared-data-status/ class=md-tabs__link> Final Status oF the Shared Data </a> </li> <li class=md-tabs__item> <a href=../dashboards/ class=md-tabs__link> Dashboards </a> </li> <li class=md-tabs__item> <a href=../database/ class=md-tabs__link> Database </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="NMCPYe Data Mapping" class="md-nav__button md-logo" aria-label="NMCPYe Data Mapping" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> NMCPYe Data Mapping </label> <div class=md-nav__source> <a href=https://github.com/Hamza-ye/nmcpye-data-mapping title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Hamza-ye/nmcpye-data-mapping </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Report staging </span> </a> </li> <li class=md-nav__item> <a href=../additional-data/ class=md-nav__link> <span class=md-ellipsis> Additional Data </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Final report </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Final report </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#executive-summary class=md-nav__link> <span class=md-ellipsis> Executive Summary </span> </a> </li> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#2-methodology class=md-nav__link> <span class=md-ellipsis> 2. Methodology </span> </a> <nav class=md-nav aria-label="2. Methodology"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-data-sources class=md-nav__link> <span class=md-ellipsis> 2.1 Data Sources </span> </a> </li> <li class=md-nav__item> <a href=#22-processing-workflow class=md-nav__link> <span class=md-ellipsis> 2.2 Processing Workflow </span> </a> </li> <li class=md-nav__item> <a href=#23-tools-and-technologies class=md-nav__link> <span class=md-ellipsis> 2.3 Tools and Technologies </span> </a> </li> <li class=md-nav__item> <a href=#additional-data class=md-nav__link> <span class=md-ellipsis> Additional Data </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../index-old/ class=md-nav__link> <span class=md-ellipsis> NMCP Yemen Data Mapping Docs </span> </a> </li> <li class=md-nav__item> <a href=../shared-data-status/ class=md-nav__link> <span class=md-ellipsis> Final Status oF the Shared Data </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../dashboards/ class="md-nav__link "> <span class=md-ellipsis> Dashboards </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Dashboards </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../database/ class="md-nav__link "> <span class=md-ellipsis> Database </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Database </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#executive-summary class=md-nav__link> <span class=md-ellipsis> Executive Summary </span> </a> </li> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#2-methodology class=md-nav__link> <span class=md-ellipsis> 2. Methodology </span> </a> <nav class=md-nav aria-label="2. Methodology"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-data-sources class=md-nav__link> <span class=md-ellipsis> 2.1 Data Sources </span> </a> </li> <li class=md-nav__item> <a href=#22-processing-workflow class=md-nav__link> <span class=md-ellipsis> 2.2 Processing Workflow </span> </a> </li> <li class=md-nav__item> <a href=#23-tools-and-technologies class=md-nav__link> <span class=md-ellipsis> 2.3 Tools and Technologies </span> </a> </li> <li class=md-nav__item> <a href=#additional-data class=md-nav__link> <span class=md-ellipsis> Additional Data </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/Hamza-ye/nmcpye-data-mapping/edit/master/documentation/docs/final-report.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <div class=toc> <ul> <li><a href=#report-final>Report final</a><ul> <li><a href=#executive-summary>Executive Summary</a></li> <li><a href=#introduction>Introduction</a></li> <li><a href=#2-methodology>2. Methodology</a><ul> <li><a href=#21-data-sources>2.1 Data Sources</a></li> <li><a href=#22-processing-workflow>2.2 Processing Workflow</a></li> <li><a href=#23-tools-and-technologies>2.3 Tools and Technologies</a></li> <li><a href=#additional-data>Additional Data</a></li> </ul> </li> </ul> </li> </ul> </div> <h1 id=report-final>Report final<a class=headerlink href=#report-final title="Permanent link">&para;</a></h1> <p><strong>Project:</strong> Data assembly and cleaning Of NMCP Yemen and automating the workflow for the risk map of Malaria in Yemen for planning future campaigns resources and funding:</p> <h2 id=executive-summary>Executive Summary<a class=headerlink href=#executive-summary title="Permanent link">&para;</a></h2> <p><strong>Challenge:</strong> The National Malaria Control Program (NMCP) in Yemen faces significant challenges in analyzing and utilizing its vast data on malaria control activities due to inconsistencies in data formats, codes, and collection methods. This lack of data accessibility and quality hinders effective program evaluation, intervention targeting, and resource allocation.</p> <p><strong>Approach:</strong> The project used a Collaborative Approach Engaging a cross-functional team to collaboratively address inconsistencies in data formats, Actively involving <em>Risk analysis team</em> in harmonization decisions, ensuring alignment with program goals, and Iteratively refining entity relationships based on feedback from them and NMCP management. The collaborative approach has resulted in a coherent dataset that reflects the collective expertise of the team.</p> <p><strong>Result:</strong> This project successfully mapped all NMCP activity data into a structured format, significantly improving data accessibility and quality. Data completeness and accuracy metrics saw substantial improvements, and the established data model allows for comprehensive analysis across different entities and activities. Data visualization dashboards now provide real-time insights into key malaria control indicators, enabling informed decision-making for program optimization and resource allocation. Any Future data can be easily checked, validated, cleaned, and merged using the automated solution and the pipeline developed in this project.</p> <p><strong>Impact:</strong> This project empowers the NMCP with a robust data foundation for effective malaria control efforts. Improved data accessibility and quality will lead to:</p> <ul> <li><strong>Enhanced program monitoring and evaluation:</strong> Real-time data insights will enable the NMCP to track progress towards malaria elimination goals and identify areas requiring improvement.</li> <li><strong>Targeted interventions:</strong> Data-driven analysis will inform the development of more effective and targeted interventions, maximizing resource utilization and impact.</li> <li><strong>Improved resource allocation:</strong> Data analysis will guide the allocation of resources to areas with the highest burden of malaria, ensuring efficient and equitable program implementation.</li> <li><strong>Knowledge sharing and collaboration:</strong> The structured data model facilitates data sharing and collaboration with other stakeholders, promoting knowledge exchange and coordinated efforts in malaria control.</li> </ul> <p><strong>Recommendations:</strong> Building upon this success, the NMCP should:</p> <ul> <li><strong>Continue data quality improvement:</strong> Implement ongoing data quality monitoring and maintenance procedures to ensure data integrity and reliability.</li> <li><strong>Integrate with other data sources:</strong> Combine malaria control data with other relevant data sources (e.g., weather, population) for comprehensive analysis and prediction.</li> <li><strong>Promote data utilization:</strong> Train NMCP personnel and stakeholders on data analysis tools and techniques to maximize the utilization of data for informed decision-making.</li> </ul> <p>By leveraging the foundation established by this project, the NMCP can accelerate its progress towards a malaria-free future in Yemen.</p> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>Malaria remains a significant public health threat in Yemen, with 150K cases reported annually. Effective control requires a comprehensive understanding of the disease dynamics, intervention effectiveness, and resource allocation strategies. However, the National Malaria Control Program (NMCP) faces significant challenges in utilizing its vast data on malaria control activities due to:</p> <ul> <li><strong>Data inconsistencies:</strong> Data from various sources often use different formats, codes, and collection methods, making it difficult to integrate and analyze effectively.</li> <li><strong>Data quality issues:</strong> Incompleteness, inaccuracies, and missing data further hinder the reliability and usability of the information.</li> <li><strong>Limited data accessibility:</strong> Data is often stored in disparate silos, making it difficult for program managers and stakeholders to access and utilize it for informed decision-making.</li> </ul> <p>Recognizing these challenges, the NMCP embarked on a critical initiative to map all its activity data into a unified, structured format. This project aimed to:</p> <ul> <li><strong>Create master lists:</strong> Review and Update the standardized lists available of key entities involved in malaria control, such as villages, health facilities, and community health volunteers. and develop the missing ones needed for the mapping process.</li> <li><strong>Connect/Define Catchment of each health facilities:</strong> connect health facilities with their corresponding catchment villages. Building on an Existing mapping and utilizing a data-driven approach and robust methodologies, to establish a detailed catchment map that empowers informed resource allocation and optimizes service delivery within the region.</li> <li><strong>Automated Data Pipelines (Pentaho and Python-Powered):</strong> Implement lately to streamlined data processing and maintained data integrity throughout the analysis by employing Pentaho to orchestrate data extraction, and transformation processes. create scripts to address some data inconsistencies, including standardization, and normalization.</li> <li><strong>Clean and merge data:</strong> Review, clean, and merge data routine/not routine data from various sources, ensuring consistency and compatibility with the master lists.</li> <li><strong>Develop data visualization tools:</strong> Create interactive dashboards and reports to visualize trends, analyze intervention effectiveness, and track progress towards malaria control goals.</li> <li><strong>Implement testing:</strong> to guarantee data integrity and consistency before merging into the production Database.</li> </ul> <p>This report details the methodology, results, and impact of this data mapping project. It highlights the significant improvements in data accessibility, quality, and utilization, paving the way for enhanced malaria control efforts in Yemen.</p> <h2 id=2-methodology>2. Methodology<a class=headerlink href=#2-methodology title="Permanent link">&para;</a></h2> <h3 id=21-data-sources>2.1 Data Sources<a class=headerlink href=#21-data-sources title="Permanent link">&para;</a></h3> <p>The project integrated data from the following primary sources:</p> <ul> <li><strong>ITN Distribution Data:</strong><ul> <li><strong>Format:</strong> Excel spreadsheets with village codes, household counts, net quantities, team, date, etc.</li> <li><strong>Inconsistencies:</strong><ul> <li>Village code formats: Mixing numeric and alphanumeric formats, missing or incomplete codes.</li> <li>Data entry errors.</li> <li>Missing values, inconsistencies with reported village population.</li> <li>Mismatches in date of submission_time.</li> </ul> </li> </ul> </li> <li><strong>IRS Data:</strong><ul> <li><strong>Format:</strong> Excel spreadsheets with sprayed structures, dates, insecticides, ...</li> <li><strong>Inconsistencies:</strong><ul> <li>Village code formats: Mixing numeric and alphanumeric formats, missing or incomplete codes.</li> <li>Personnel names: Variations in spelling, abbreviations, missing names.</li> <li>Mismatches in date of submission_time</li> </ul> </li> </ul> </li> <li><strong>LSM Data:</strong><ul> <li><strong>Format:</strong> Paper-based and Electronic forms with breeding site identification, treatment methods, dates.</li> <li><strong>Inconsistencies:</strong><ul> <li>Transcription errors due to manual data entry.</li> <li>Incompatible data types for similar variables (e.g., income as categorical vs. continuous)</li> <li>Incomplete data: Missing information on breeding site type, treatment dosage, etc.</li> </ul> </li> </ul> </li> <li><strong>CHV Data:</strong><ul> <li><strong>Format:</strong> Excel spreadsheets with CHV demographics, village assignments, malaria case reports.</li> <li><strong>Inconsistencies:</strong><ul> <li>Duplicate CHV records due to name variations or reassignments.</li> <li>Village: Not coded and uses names having variations in spelling, missing or incomplete names.</li> <li>Missing info about time of assignment or withdrawal.</li> </ul> </li> </ul> </li> <li><strong>Malaria Cases Data:</strong><ul> <li><strong>Format:</strong> NMCP database with Monthly case reports, EIdews database with Weekly case reports.</li> <li><strong>Inconsistencies:</strong><ul> <li>Inconsistencies in coding systems, data entry errors, and missing values were common.</li> <li>Facility codes: Inaccurate or outdated facility codes impacting data aggregation.</li> <li>Different temporal collection: 2011-2016 Monthly, and 2017 onward is weekly.</li> <li>adding/removing dataelements and updating structure from year to another.</li> <li>changed sources of data: NMCP and then EIdews, resulting in discrepancies in health facility coding, often with varying levels of granularity</li> </ul> </li> </ul> </li> <li><strong>Administrative Data:</strong><ul> <li><strong>Format:</strong> Country GIS Geodata database, Standard Health Facilities information, Excel spreadsheets Community Health Volunteers list.</li> <li><strong>Inconsistencies:</strong><ul> <li>Outdated Country GIS Geodata database.</li> <li>Facility codes: Inaccurate or outdated facility codes impacting data aggregation.</li> <li>Duplicate of records in the GIS Geodata database.</li> <li>Other different inconsistencies.</li> <li>Duplicate Health Facilities records and inconsistencies in names required automated and manual careful resolution.</li> </ul> </li> </ul> </li> </ul> <h3 id=22-processing-workflow>2.2 Processing Workflow<a class=headerlink href=#22-processing-workflow title="Permanent link">&para;</a></h3> <p><strong>2.2.1 Data Cleaning and Transformation:</strong></p> <ul> <li><strong>Standardization:</strong><ul> <li>Village codes: Harmonized across datasets using a master list, ensuring one-to-one mapping and eliminating ambiguities.</li> <li>Date formats: Converted to a consistent format (e.g., ISO 8601) for improved sorting and analysis.</li> <li>Personnel names: Standardized using string normalization techniques and cross-referencing with personnel records.</li> <li>Implement soundex and other phonetic matching techniques to identify potential duplicates and variations, followed by manual verification and standardization.</li> <li>Temporal Alignment: Align Malaria Cases data with varying temporal granularities using interpolation and/or aggregation techniques.</li> </ul> </li> <li> <p><strong>Error Correction:</strong></p> <ul> <li>Applied techniques such as rule-based error correction, outlier detection, and imputation to address inconsistencies and missing values..</li> <li>Fuzzy matching to link village/HF names with similar spellings in the master list.</li> <li>Leverage Python library dateutil to parse various formats and convert to a consistent ISO 8601 standard.</li> <li>Utilize imputation techniques like mean/median imputation or K-Nearest Neighbors to fill in missing values based on context and relationships within the data.</li> <li>Manual review and correction of identified errors, ensuring data integrity through:<ul> <li>left it unchanged: The most conservative course of action was to accept the data as a valid response and made no change to it. The larger the sample size, the less one suspect response would affect the analysis; the smaller the sample size, the more difficult the decision was.</li> <li>Corrected the data: If the respondent’s original intent could be determined, we corrected the answer.</li> <li>Soft-deleted the data: If The data seemed illogical and the value was so far from the norm that it would affect descriptive or inferential statistics. We resorted to Soft-Deleting just this response or the entire record. To understand the impact of deleting a data point, a binary variable was created (1=suspicious record, 0=not suspicious). This new variable was used as a record filter in Pivot tables or in-table filtering to understand the impact of potentially erroneous data in the final results.</li> <li>If it was possible, we re-measured the suspected or erroneous values. through returning back to the paper registers, contacting the collector...etc.</li> <li>we kept logs for what changed while maintaining the original data for future checks.</li> </ul> </li> </ul> </li> <li> <p><strong>Outlier Handling:</strong></p> <ul> <li>Investigation of potential outliers (e.g., unusually high net distributions) through data visualization and cross-referencing with other sources.</li> </ul> </li> </ul> <p><strong>2.2.2 Master List Creation and Maintenance:</strong></p> <ul> <li><strong>Village list:</strong> Consolidated and standardized village names and codes from multiple sources, addressing duplicates and inconsistencies.</li> <li><strong>Health facility list (HF):</strong><ul> <li>A comprehensive list of health facilities was created with unique codes, names, and geographic coordinates, merging HFs from EIdews Malaria cases reporting system and NMCP records to provide a clear picture of health infrastructure, merged different sources into one.</li> <li>Checked and updated the list through collaboration with local authorities and community to reflect changes in facility closures, expansions, or changes in operational status.</li> <li><strong>Collaborative Master List Management:</strong> The master list maintenance involves a collaborative approach:<ul> <li> <ul> <li><strong>Community engagement:</strong> Working with local village representatives and health facilities to verify village boundaries and facility locations.</li> </ul> </li> <li><strong>Online platform:</strong> Developing a web-based portal for everyone to report discrepancies and suggest updates to the master list.</li> <li><strong>Version control system:</strong> Implementing a version control system to track changes and revert to previous versions if necessary.</li> </ul> </li> </ul> </li> </ul> <p><img align=center, alt="Organization Unit" src=../images/orgunits.png width=400></p> <p><img align=center, alt="Merged Hfs" src=../images/merged-hfs.png width=450></p> <ul> <li><strong>CHV list:</strong><ul> <li>Compiled a comprehensive list of CHVs with unique identifiers, demographic information, village assignments, and contact details, resolving duplicate records.</li> <li>Implement de-duplication algorithms to identify and merge duplicate CHV records based on unique identifiers, demographics, and village assignments.</li> <li>Cross-reference CHVs with village master list to ensure accurate village assignments and avoid inconsistencies.</li> </ul> </li> </ul> <h4 id=223-data-merging-and-integration>2.2.3 Data Merging and Integration<a class=headerlink href=#223-data-merging-and-integration title="Permanent link">&para;</a></h4> <ul> <li><strong>Mapping to master lists:</strong> Linked activity data to corresponding master lists using village codes, health facility codes, and CHV identifiers.</li> <li><strong>Resolving Record Linkage Issues:</strong> Employed probabilistic matching techniques to account for variations in names and addresses, with manual verification for high-confidence matches.</li> <li><strong>Resolving inconsistencies:</strong> Addressed discrepancies in codes or names through manual verification and cross-referencing with original data sources.</li> <li><strong>Data validation checks:</strong> Implemented automated checks to ensure consistency between data sources, such as comparing ITN quantities with household counts and verifying CHV village assignments, proactively identifying and addressing potential errors.</li> <li><strong>Automate Future Data Merging:</strong> Implemented automated submission of data from Kobo forms, so data can be directly sent to at will to their respective tables in this structure for analysis.</li> </ul> <h4 id=224-data-quality-assessment>2.2.4 Data Quality Assessment<a class=headerlink href=#224-data-quality-assessment title="Permanent link">&para;</a></h4> <ul> <li><strong>Data lineage tracking:</strong> Tracing the origin and transformations of each data point to ensure transparency and audibility.</li> <li><strong>Validation checks:</strong> Implemented domain-specific validation rules (e.g., checking if reported net quantities fall within plausible ranges for village sizes). Verified data integrity through cross-referencing with external sources (e.g., population data).</li> <li><strong>Completeness Analysis:</strong> Calculated the percentage of missing values for key variables and analyzed the distribution of missingness across different datasets. Identified patterns and potential reasons for missing data (e.g., reporting delays, data entry challenges). Documented for improved future training programs to improve data collection and reporting practices.</li> </ul> <h4 id=225-complementing-implementations>2.2.5 Complementing Implementations<a class=headerlink href=#225-complementing-implementations title="Permanent link">&para;</a></h4> <ul> <li><strong>Additional Metadata Tables:</strong> Additional metadata tables to capture supplementary information were created. For example, tables for recording specific campaign parameters, team details, or warehouse attributes.</li> <li><strong>Logs and Audit Trails:</strong> Lately We implemented logging and audit trail mechanisms to track changes to critical data. This would ensures accountability and helps in troubleshooting if issues arise.</li> <li><strong>Reporting and integration Tables:</strong> When campaigns involved integration with external systems or data sources such as Kobo or ODK, additional tables, and views where added to handle any integration seamlessly. To generate reports and analytics, additional tables and views were created too and optimized for reporting purposes. Which could help improve the performance of complex queries.</li> </ul> <h3 id=23-tools-and-technologies>2.3 Tools and Technologies<a class=headerlink href=#23-tools-and-technologies title="Permanent link">&para;</a></h3> <ul> <li><strong>Data cleaning and integration:</strong> Python (pandas, NumPy, and other libraries), Pentaho Data Integration and MetaData Management, OpenRefine, facilitated automated data manipulation and cleaning tasks. SQL, Excel.</li> <li><strong>Data storage:</strong> PostgreSQL database with version control and audit trails.</li> <li><strong>Data visualization:</strong> Power BI enabled the creation of interactive dashboards and reports for data visualization and analysis.</li> </ul> <h3 id=additional-data>Additional Data<a class=headerlink href=#additional-data title="Permanent link">&para;</a></h3> <h4 id=diagrams>Diagrams<a class=headerlink href=#diagrams title="Permanent link">&para;</a></h4> <p>Bellow are Visuals that depict the data processing workflow, master list structures, Pentaho integration Work flow and relationships between datasets.</p> <ul> <li><strong>Final Structure of main Tables:</strong></li> </ul> <pre class=mermaid><code>erDiagram
  DISTRICT ||--o{ HEALTH-FACILITY : "Administrative level of one or more"
  DISTRICT ||--o{ VILLAGES-LOCATION : "Administrative level of one or more"
  HEALTH-FACILITY ||--o{ VILLAGES-LOCATION : "Administrative level of one or more"
  HEALTH-FACILITY ||--o{ CHV : "Supervises one or more"
  HEALTH-FACILITY ||--o{ MALARIA-CASES-REPORT : "submits one or more"
  CHV ||--|{ CHV-MALARIA-CASES-REPORT : "submits one or more"
  VILLAGES-LOCATION ||--o{ ITN-REPORT : "Has one or more"
  VILLAGES-LOCATION ||--o{ IRS-REPORT : "Has one or more"</code></pre> <ul> <li> <p><strong>Fetch data from KoboToolBox into a Temporary Table pipeline:</strong> <img align=center, alt=KoboToolBox src=../images/kobo-workflow.png width=700></p> </li> <li> <p><strong>Health Facilities merge and remove duplicates:</strong> <img align=center, alt="Health Facilities merge" src=../images/Health-facilities-names.png width=700></p> </li> <li> <p><strong>Anti-Malaria Drugs merge workflow:</strong> Multiple steps merged into one picture</p> </li> </ul> <p><img align=center, alt="Anti-Malaria Drugs merge" src=../images/amd-data.png width=700></p> <p>Work flow 2:</p> <p><img align=center, alt="Anti-Malaria Drugs merge2" src=../images/amd-data2.png width=700></p> <ul> <li><strong>Master list re-import into database workflow:</strong> After manual review</li> </ul> <p><img align=center, alt="Master list re-import" src=../images/master-list.png width=700></p> <ul> <li><strong>Catchment Merge workflow:</strong></li> </ul> <p><img align=center, alt="Catchment Merge" src=../images/catchments-merge.png width=700></p> <ul> <li> <p><strong>Picture showing some manual verifications of catchments:</strong></p> <div class="grid cards" markdown> <ul> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/001.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/002.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/003.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/004.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/005.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/006.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/007.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/008.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/009.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/010.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/011.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/012.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/013.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/014.jfif width=450></figure></li> <li><figure markdown> <img alt="Master list re-import" src=../images/maps/015.jfif width=450></figure></li> </ul> </div> </li> </ul> <h4 id=tables>Tables<a class=headerlink href=#tables title="Permanent link">&para;</a></h4> <p>Bellow are Summaries for data quality metrics, such as completeness rates and error rates, for each dataset and stage of the process.</p> <p><strong>Final Status oF Data:</strong> as of <strong>June, 24 2023</strong></p> <p>The following table shows NORTH/SOUTH Health Facilities that have some data in the north files and needs either be mapped to catchments localities or locate their GPS coordinate:</p> <p><mark class=critic><img alt=✅ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2705.svg title=:white_check_mark:> Final Health Facilities Mapping &amp; GPS status</mark></p> <table> <thead> <tr> <th><strong>hf_owner</strong></th> <th style="text-align: center;"><strong>-</strong></th> <th><strong>WITH NO CATCHMENTS</strong></th> <th><strong>WITH NO CATCHMENT &amp; GPS</strong></th> <th><strong>WITH NO GPS</strong></th> </tr> </thead> <tbody> <tr> <td><strong>OTHER</strong></td> <td style="text-align: center;">292</td> <td></td> <td></td> <td></td> </tr> <tr> <td><strong>PRIVATE</strong></td> <td style="text-align: center;">574</td> <td></td> <td></td> <td>111</td> </tr> <tr> <td><strong>PUBLIC</strong></td> <td style="text-align: center;">4692</td> <td>848</td> <td>291</td> <td>1</td> </tr> </tbody> </table> <p>There are currently <del class=critic>118234</del> <ins class=critic>120982</ins> locations in total, of which <del class=critic>105855: 89%</del> <ins class=critic>110898: 91%</ins> have been mapped to a <strong>health facility</strong> in the <code>md_health_facilities.csv</code> master file.</p> <p><mark class=critic><img alt=✅ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2705.svg title=:white_check_mark:> Final CMs Mapping status</mark></p> <table> <thead> <tr> <th><strong>S/N</strong></th> <th style="text-align: center;"><strong>gov_id</strong></th> <th><strong>gov</strong></th> <th style="text-align: center;"><strong>%</strong></th> <th style="text-align: center;"><strong>MAPPED</strong></th> <th style="text-align: center;"><strong>UNMAPPED</strong></th> </tr> </thead> <tbody> <tr> <td>NORTH</td> <td style="text-align: center;">11</td> <td>Ibb</td> <td style="text-align: center;"><img alt=100 src=https://geps.dev/progress/100></td> <td style="text-align: center;">16497</td> <td style="text-align: center;"></td> </tr> <tr> <td>NORTH</td> <td style="text-align: center;">17</td> <td>Hajjah</td> <td style="text-align: center;"><img alt=100 src=https://geps.dev/progress/100></td> <td style="text-align: center;">14416</td> <td style="text-align: center;"></td> </tr> <tr> <td>NORTH</td> <td style="text-align: center;">20</td> <td>Dhamar</td> <td style="text-align: center;"><img alt=100 src=https://geps.dev/progress/100></td> <td style="text-align: center;">14219</td> <td style="text-align: center;"></td> </tr> <tr> <td>NORTH/SOUTH</td> <td style="text-align: center;">18</td> <td>Al Hudaydah</td> <td style="text-align: center;"><img alt=100 src=https://geps.dev/progress/100></td> <td style="text-align: center;">9508</td> <td style="text-align: center;"></td> </tr> <tr> <td>NORTH</td> <td style="text-align: center;">23</td> <td>Sana'a</td> <td style="text-align: center;"><img alt=100 src=https://geps.dev/progress/100></td> <td style="text-align: center;">7504</td> <td style="text-align: center;">1</td> </tr> <tr> <td>NORTH</td> <td style="text-align: center;">22</td> <td>Sa'ada</td> <td style="text-align: center;"><img alt=100 src=https://geps.dev/progress/100></td> <td style="text-align: center;">6992</td> <td style="text-align: center;"></td> </tr> <tr> <td>NORTH</td> <td style="text-align: center;">31</td> <td>Raymah</td> <td style="text-align: center;"><img alt=100 src=https://geps.dev/progress/100></td> <td style="text-align: center;">6766</td> <td style="text-align: center;"></td> </tr> <tr> <td>NORTH</td> <td style="text-align: center;">29</td> <td>Amran</td> <td style="text-align: center;"><img alt=100 src=https://geps.dev/progress/100></td> <td style="text-align: center;">6421</td> <td style="text-align: center;"></td> </tr> <tr> <td>NORTH</td> <td style="text-align: center;">16</td> <td>Al Jawf</td> <td style="text-align: center;"><img alt=100 src=https://geps.dev/progress/100></td> <td style="text-align: center;">2650</td> <td style="text-align: center;"></td> </tr> <tr> <td>NORTH</td> <td style="text-align: center;">27</td> <td>Al Mahwit</td> <td style="text-align: center;"><img alt=99.4 src=https://geps.dev/progress/99></td> <td style="text-align: center;">4788</td> <td style="text-align: center;">29</td> </tr> <tr> <td>NORTH/SOUTH</td> <td style="text-align: center;">26</td> <td>Marib</td> <td style="text-align: center;"><img alt=91.1 src=https://geps.dev/progress/91></td> <td style="text-align: center;">2181</td> <td style="text-align: center;">213</td> </tr> <tr> <td>NORTH</td> <td style="text-align: center;">13</td> <td>Amanat Al Asimah</td> <td style="text-align: center;"><img alt=88.1 src=https://geps.dev/progress/88></td> <td style="text-align: center;">5736</td> <td style="text-align: center;">773</td> </tr> <tr> <td>NORTH/SOUTH</td> <td style="text-align: center;">15</td> <td>Taizz</td> <td style="text-align: center;"><img alt=51.4 src=https://geps.dev/progress/51></td> <td style="text-align: center;">9574</td> <td style="text-align: center;">9068</td> </tr> <tr> <td>NORTH/SOUTH</td> <td style="text-align: center;">14</td> <td>Al Bayda</td> <td style="text-align: center;"><img alt=100 src=https://geps.dev/progress/100></td> <td style="text-align: center;">3646</td> <td style="text-align: center;"></td> </tr> </tbody> </table> <p><strong>Join status between reports and catchments:</strong></p> <ul> <li><strong>ITNs Reports:</strong> <code>rd_itns_data.csv</code> &rarr; <code>md_catchment_locations.csv</code></li> </ul> <p><mark class=critic><img alt=✅ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2705.svg title=:white_check_mark:> Final ITN's Records Mapping status </mark></p> <table> <thead> <tr> <th>Total</th> <th style="text-align: center;">linked</th> <th style="text-align: center;">unlinked (IDPs Camps)</th> <th style="text-align: center;">unlinked Other</th> </tr> </thead> <tbody> <tr> <td>50735 <strong>records</strong></td> <td style="text-align: center;">49806</td> <td style="text-align: center;">155</td> <td style="text-align: center;">774</td> </tr> </tbody> </table> <ul> <li><strong>IRS Reports:</strong> <code>rd_irs_data.csv</code> &rarr; <code>md_catchment_locations.csv</code></li> </ul> <p><mark class=critic> <img alt=✅ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2705.svg title=:white_check_mark:> Final IRS Records Mapping status </mark></p> <p><ins class=critic> After IRS 2022 data was Included </ins></p> <table> <thead> <tr> <th>Total</th> <th style="text-align: center;">linked</th> <th style="text-align: center;">unlinked (IDPs Camps)</th> <th style="text-align: center;">unlinked Other</th> </tr> </thead> <tbody> <tr> <td>41108 <strong>records</strong></td> <td style="text-align: center;">39791</td> <td style="text-align: center;">154</td> <td style="text-align: center;">1163</td> </tr> </tbody> </table> <h4 id=code-snippets>Code Snippets<a class=headerlink href=#code-snippets title="Permanent link">&para;</a></h4> <p>Bellow are Examples of key data cleaning and transformation techniques</p> <ul> <li> <p><strong>Code of checking for duplicates in Health Facility lists</strong></p> </li> <li> <p><strong>Libraries Import</strong>:</p> <ul> <li><code>pandas</code>: For data manipulation and analysis.</li> <li><code>langdetect</code>: To detect the language of a given text.</li> <li><code>googletrans</code>: An unofficial library that uses Google Translate.</li> <li><code>polyglot</code>: Multilingual text processing library, used here for transliteration.</li> <li><code>fuzzywuzzy</code>: For fuzzy string matching.</li> </ul> </li> <li> <p><strong>Language Processing Tools Initialization</strong>:</p> <ul> <li>The script downloads language resources for transliteration (<code>transliteration2.ar</code>) from <code>polyglot</code>.</li> </ul> </li> <li> <p><strong>Constants and Mappings</strong>:</p> <ul> <li><code>MIN_TEXT_LENGTH</code>: A minimum length for text to be considered for language detection and transliteration.</li> <li><code>THRESHOLD</code>: The threshold for fuzzy matching.</li> <li><code>mapped_words</code>: A dictionary mapping Arabic health facility names to their English abbreviations or translations.</li> </ul> </li> <li> <p><strong>Function Definitions</strong>:</p> <ul> <li><code>detect_language(text)</code>: Detects the language of the given text. If the text is too short or language detection fails, it returns <code>None</code>.</li> <li><code>transliterate_text(text, language, primary_language='en')</code>: Transliterates the text to English if it's not in the primary language and handles specific word mappings for healthcare-related terms.</li> <li><code>fuzzy_match(row, col1, col2, threshold)</code>: Performs fuzzy matching between two columns in a dataframe row and checks if the match ratio is above a certain threshold.</li> <li><code>trans_and_calculate_fuzzyness(file_path, cols_to_transliterate, match_col)</code>: Main function that applies transliteration and fuzzy matching to specified columns of a dataframe loaded from an Excel file. It creates new columns for transliterated text and the match percentages.</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=kn>from</span> <span class=nn>langdetect</span> <span class=kn>import</span> <span class=n>detect</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=kn>from</span> <span class=nn>googletrans</span> <span class=kn>import</span> <span class=n>Translator</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=kn>from</span> <span class=nn>polyglot.downloader</span> <span class=kn>import</span> <span class=n>downloader</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=kn>from</span> <span class=nn>polyglot.transliteration</span> <span class=kn>import</span> <span class=n>Transliterator</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=kn>from</span> <span class=nn>polyglot.detect</span> <span class=kn>import</span> <span class=n>Detector</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=kn>from</span> <span class=nn>polyglot.text</span> <span class=kn>import</span> <span class=n>Text</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=kn>from</span> <span class=nn>fuzzywuzzy</span> <span class=kn>import</span> <span class=n>fuzz</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=n>downloader</span><span class=o>.</span><span class=n>download</span><span class=p>(</span><span class=s2>&quot;transliteration2.ar&quot;</span><span class=p>)</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=n>MIN_TEXT_LENGTH</span> <span class=o>=</span> <span class=mi>2</span>
<a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=n>THRESHOLD</span> <span class=o>=</span> <span class=mi>50</span>  <span class=c1># Set the threshold for fuzzy matching</span>
<a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>
<a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=k>def</span> <span class=nf>detect_language</span><span class=p>(</span><span class=n>text</span><span class=p>):</span>
<a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>text</span><span class=p>))</span> <span class=o>&lt;</span> <span class=n>MIN_TEXT_LENGTH</span><span class=p>:</span>
<a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>      <span class=k>return</span> <span class=kc>None</span>
<a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>      <span class=k>return</span> <span class=n>detect</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
<a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a><span class=k>except</span> <span class=n>LangDetectException</span><span class=p>:</span>
<a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a>      <span class=k>return</span> <span class=kc>None</span>
<a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a>
<a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a><span class=n>mapped_words</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a><span class=s1>&#39;الوحدة الصحية&#39;</span><span class=p>:</span> <span class=s1>&#39;HU&#39;</span><span class=p>,</span>
<a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a><span class=s1>&#39;المركز الصحي&#39;</span><span class=p>:</span> <span class=s1>&#39;HC&#39;</span><span class=p>,</span>
<a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a><span class=s1>&#39;المجمع الصحي&#39;</span><span class=p>:</span> <span class=s1>&#39;Complex&#39;</span><span class=p>,</span>
<a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a><span class=s1>&#39;الصحية&#39;</span><span class=p>:</span> <span class=s1>&#39;HU&#39;</span><span class=p>,</span>
<a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a><span class=s1>&#39;وحدة&#39;</span><span class=p>:</span> <span class=s1>&#39;HU&#39;</span><span class=p>,</span>
<a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a><span class=s1>&#39;صحي&#39;</span><span class=p>:</span> <span class=s1>&#39;HC&#39;</span><span class=p>,</span>
<a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a><span class=s1>&#39;مستشفى&#39;</span><span class=p>:</span> <span class=s1>&#39;H&#39;</span><span class=p>,</span>
<a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a><span class=s1>&#39;مستوصف&#39;</span><span class=p>:</span> <span class=s1>&#39;Dispensary&#39;</span><span class=p>,</span>
<a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a><span class=s1>&#39;عيادة&#39;</span><span class=p>:</span> <span class=s1>&#39;Clinic&#39;</span><span class=p>,</span>
<a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a><span class=s1>&#39;طوارى&#39;</span><span class=p>:</span> <span class=s1>&#39;emergancy&#39;</span><span class=p>,</span>
<a id=__codelineno-0-35 name=__codelineno-0-35 href=#__codelineno-0-35></a><span class=s1>&#39;امومة&#39;</span><span class=p>:</span> <span class=s1>&#39;Maternity&#39;</span><span class=p>,</span>
<a id=__codelineno-0-36 name=__codelineno-0-36 href=#__codelineno-0-36></a><span class=s1>&#39;طفولة&#39;</span><span class=p>:</span> <span class=s1>&#39;Childhood&#39;</span><span class=p>,</span>
<a id=__codelineno-0-37 name=__codelineno-0-37 href=#__codelineno-0-37></a><span class=s1>&#39;الهلال&#39;</span><span class=p>:</span> <span class=s1>&#39;Crescent&#39;</span><span class=p>,</span>
<a id=__codelineno-0-38 name=__codelineno-0-38 href=#__codelineno-0-38></a><span class=s1>&#39;الصليب&#39;</span><span class=p>:</span> <span class=s1>&#39;Cross&#39;</span><span class=p>,</span>
<a id=__codelineno-0-39 name=__codelineno-0-39 href=#__codelineno-0-39></a><span class=s1>&#39;الأحمر&#39;</span><span class=p>:</span> <span class=s1>&#39;Red&#39;</span><span class=p>,</span>
<a id=__codelineno-0-40 name=__codelineno-0-40 href=#__codelineno-0-40></a><span class=s1>&#39;الطبي&#39;</span><span class=p>:</span> <span class=s1>&#39;Medical&#39;</span><span class=p>,</span>
<a id=__codelineno-0-41 name=__codelineno-0-41 href=#__codelineno-0-41></a><span class=s1>&#39;سجن مركزي&#39;</span><span class=p>:</span> <span class=s1>&#39;Central Jail&#39;</span><span class=p>,</span>
<a id=__codelineno-0-42 name=__codelineno-0-42 href=#__codelineno-0-42></a><span class=s1>&#39;سجن المركزي&#39;</span><span class=p>:</span> <span class=s1>&#39;Central Jail&#39;</span><span class=p>,</span>
<a id=__codelineno-0-43 name=__codelineno-0-43 href=#__codelineno-0-43></a><span class=s1>&#39;المركزي&#39;</span><span class=p>:</span> <span class=s1>&#39;Central&#39;</span><span class=p>,</span>
<a id=__codelineno-0-44 name=__codelineno-0-44 href=#__codelineno-0-44></a><span class=s1>&#39;مركز&#39;</span><span class=p>:</span> <span class=s1>&#39;HC&#39;</span><span class=p>,</span>
<a id=__codelineno-0-45 name=__codelineno-0-45 href=#__codelineno-0-45></a><span class=s1>&#39;النفسية&#39;</span><span class=p>:</span> <span class=s1>&#39;Psychological&#39;</span><span class=p>,</span>
<a id=__codelineno-0-46 name=__codelineno-0-46 href=#__codelineno-0-46></a><span class=s1>&#39;الجامعي&#39;</span><span class=p>:</span> <span class=s1>&#39;educational&#39;</span><span class=p>,</span>
<a id=__codelineno-0-47 name=__codelineno-0-47 href=#__codelineno-0-47></a><span class=s1>&#39;التعليمي&#39;</span><span class=p>:</span> <span class=s1>&#39;educational&#39;</span><span class=p>,</span>
<a id=__codelineno-0-48 name=__codelineno-0-48 href=#__codelineno-0-48></a><span class=s1>&#39;مختبر&#39;</span><span class=p>:</span> <span class=s1>&#39;Laboratory&#39;</span><span class=p>,</span>
<a id=__codelineno-0-49 name=__codelineno-0-49 href=#__codelineno-0-49></a><span class=s1>&#39;الوطني&#39;</span><span class=p>:</span> <span class=s1>&#39;National&#39;</span><span class=p>,</span>
<a id=__codelineno-0-50 name=__codelineno-0-50 href=#__codelineno-0-50></a><span class=s1>&#39;العامة&#39;</span><span class=p>:</span> <span class=s1>&#39;Public&#39;</span><span class=p>,</span>
<a id=__codelineno-0-51 name=__codelineno-0-51 href=#__codelineno-0-51></a><span class=s1>&#39;الخاص&#39;</span><span class=p>:</span> <span class=s1>&#39;Private&#39;</span><span class=p>,</span>
<a id=__codelineno-0-52 name=__codelineno-0-52 href=#__codelineno-0-52></a><span class=p>}</span>
<a id=__codelineno-0-53 name=__codelineno-0-53 href=#__codelineno-0-53></a>
<a id=__codelineno-0-54 name=__codelineno-0-54 href=#__codelineno-0-54></a><span class=k>def</span> <span class=nf>transliterate_text</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>language</span><span class=p>,</span> <span class=n>primary_language</span><span class=o>=</span><span class=s1>&#39;en&#39;</span><span class=p>):</span>
<a id=__codelineno-0-55 name=__codelineno-0-55 href=#__codelineno-0-55></a><span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>len</span><span class=p>(</span><span class=n>text</span><span class=p>)</span> <span class=o>&lt;</span> <span class=n>MIN_TEXT_LENGTH</span><span class=p>:</span>
<a id=__codelineno-0-56 name=__codelineno-0-56 href=#__codelineno-0-56></a>      <span class=k>return</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-57 name=__codelineno-0-57 href=#__codelineno-0-57></a><span class=k>if</span> <span class=n>language</span> <span class=o>!=</span> <span class=n>primary_language</span><span class=p>:</span>
<a id=__codelineno-0-58 name=__codelineno-0-58 href=#__codelineno-0-58></a>      <span class=n>detector</span> <span class=o>=</span> <span class=n>Detector</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>quiet</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-59 name=__codelineno-0-59 href=#__codelineno-0-59></a>      <span class=k>if</span> <span class=n>detector</span><span class=o>.</span><span class=n>language</span><span class=o>.</span><span class=n>code</span> <span class=o>==</span> <span class=s1>&#39;ar&#39;</span><span class=p>:</span>
<a id=__codelineno-0-60 name=__codelineno-0-60 href=#__codelineno-0-60></a>      <span class=n>new_text</span> <span class=o>=</span> <span class=n>Text</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
<a id=__codelineno-0-61 name=__codelineno-0-61 href=#__codelineno-0-61></a>      <span class=n>transliterated_words</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-62 name=__codelineno-0-62 href=#__codelineno-0-62></a>      <span class=n>list_text</span> <span class=o>=</span> <span class=n>new_text</span><span class=o>.</span><span class=n>transliterate</span><span class=p>(</span><span class=s2>&quot;en&quot;</span><span class=p>)</span>
<a id=__codelineno-0-63 name=__codelineno-0-63 href=#__codelineno-0-63></a>      <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>list_text</span><span class=p>):</span>
<a id=__codelineno-0-64 name=__codelineno-0-64 href=#__codelineno-0-64></a>            <span class=n>original</span> <span class=o>=</span> <span class=n>new_text</span><span class=o>.</span><span class=n>words</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>
<a id=__codelineno-0-65 name=__codelineno-0-65 href=#__codelineno-0-65></a>
<a id=__codelineno-0-66 name=__codelineno-0-66 href=#__codelineno-0-66></a>            <span class=k>for</span> <span class=n>no_transliterate_word_key</span><span class=p>,</span> <span class=n>no_transliterate_word_value</span> <span class=ow>in</span> <span class=n>mapped_words</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<a id=__codelineno-0-67 name=__codelineno-0-67 href=#__codelineno-0-67></a>                  <span class=k>if</span> <span class=n>no_transliterate_word_key</span> <span class=ow>in</span> <span class=n>original</span><span class=p>:</span>
<a id=__codelineno-0-68 name=__codelineno-0-68 href=#__codelineno-0-68></a>                  <span class=k>break</span>
<a id=__codelineno-0-69 name=__codelineno-0-69 href=#__codelineno-0-69></a>            <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-70 name=__codelineno-0-70 href=#__codelineno-0-70></a>                  <span class=n>transliterated_words</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
<a id=__codelineno-0-71 name=__codelineno-0-71 href=#__codelineno-0-71></a>
<a id=__codelineno-0-72 name=__codelineno-0-72 href=#__codelineno-0-72></a>      <span class=n>transliterated_words</span><span class=o>.</span><span class=n>reverse</span><span class=p>()</span>
<a id=__codelineno-0-73 name=__codelineno-0-73 href=#__codelineno-0-73></a>      <span class=n>unique_list</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-74 name=__codelineno-0-74 href=#__codelineno-0-74></a>      <span class=p>[</span><span class=n>unique_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>transliterated_words</span> <span class=k>if</span> <span class=n>x</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>unique_list</span><span class=p>]</span>
<a id=__codelineno-0-75 name=__codelineno-0-75 href=#__codelineno-0-75></a>
<a id=__codelineno-0-76 name=__codelineno-0-76 href=#__codelineno-0-76></a>      <span class=n>result</span> <span class=o>=</span> <span class=s1>&#39; &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>unique_list</span><span class=p>)</span>
<a id=__codelineno-0-77 name=__codelineno-0-77 href=#__codelineno-0-77></a>      <span class=k>return</span> <span class=n>result</span>
<a id=__codelineno-0-78 name=__codelineno-0-78 href=#__codelineno-0-78></a><span class=k>return</span> <span class=n>text</span>
<a id=__codelineno-0-79 name=__codelineno-0-79 href=#__codelineno-0-79></a>
<a id=__codelineno-0-80 name=__codelineno-0-80 href=#__codelineno-0-80></a><span class=k>def</span> <span class=nf>fuzzy_match</span><span class=p>(</span><span class=n>row</span><span class=p>,</span> <span class=n>col1</span><span class=p>,</span> <span class=n>col2</span><span class=p>,</span> <span class=n>threshold</span><span class=p>):</span>
<a id=__codelineno-0-81 name=__codelineno-0-81 href=#__codelineno-0-81></a><span class=n>match_ratio</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-0-82 name=__codelineno-0-82 href=#__codelineno-0-82></a><span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>row</span><span class=p>[</span><span class=n>col2</span><span class=p>],</span> <span class=nb>str</span><span class=p>):</span>
<a id=__codelineno-0-83 name=__codelineno-0-83 href=#__codelineno-0-83></a>      <span class=n>match_ratio</span> <span class=o>=</span> <span class=n>fuzz</span><span class=o>.</span><span class=n>token_set_ratio</span><span class=p>(</span><span class=n>row</span><span class=p>[</span><span class=n>col1</span><span class=p>],</span> <span class=n>row</span><span class=p>[</span><span class=n>col2</span><span class=p>]</span><span class=o>.</span><span class=n>lower</span><span class=p>())</span>
<a id=__codelineno-0-84 name=__codelineno-0-84 href=#__codelineno-0-84></a>
<a id=__codelineno-0-85 name=__codelineno-0-85 href=#__codelineno-0-85></a><span class=k>if</span> <span class=n>match_ratio</span> <span class=o>&gt;=</span> <span class=n>threshold</span><span class=p>:</span>
<a id=__codelineno-0-86 name=__codelineno-0-86 href=#__codelineno-0-86></a>      <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>match_ratio</span><span class=si>}</span><span class=s2>%&quot;</span>
<a id=__codelineno-0-87 name=__codelineno-0-87 href=#__codelineno-0-87></a><span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-88 name=__codelineno-0-88 href=#__codelineno-0-88></a>      <span class=k>return</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-89 name=__codelineno-0-89 href=#__codelineno-0-89></a>
<a id=__codelineno-0-90 name=__codelineno-0-90 href=#__codelineno-0-90></a><span class=k>def</span> <span class=nf>trans_and_calculate_fuzzyness</span><span class=p>(</span><span class=n>file_path</span><span class=p>,</span> <span class=n>cols_to_transliterate</span><span class=p>,</span> <span class=n>match_col</span><span class=p>):</span>
<a id=__codelineno-0-91 name=__codelineno-0-91 href=#__codelineno-0-91></a><span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_excel</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span>
<a id=__codelineno-0-92 name=__codelineno-0-92 href=#__codelineno-0-92></a><span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=n>cols_to_transliterate</span><span class=p>:</span>
<a id=__codelineno-0-93 name=__codelineno-0-93 href=#__codelineno-0-93></a>      <span class=n>new_col_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;transliterated_</span><span class=si>{</span><span class=n>col</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-94 name=__codelineno-0-94 href=#__codelineno-0-94></a>      <span class=n>df</span><span class=p>[</span><span class=n>new_col_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>col</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>transliterate_text</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>detect_language</span><span class=p>(</span><span class=n>x</span><span class=p>))</span> <span class=k>if</span> <span class=n>pd</span><span class=o>.</span><span class=n>notnull</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=k>else</span> <span class=n>x</span><span class=p>)</span>
<a id=__codelineno-0-95 name=__codelineno-0-95 href=#__codelineno-0-95></a><span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=n>cols_to_transliterate</span><span class=p>:</span>
<a id=__codelineno-0-96 name=__codelineno-0-96 href=#__codelineno-0-96></a>      <span class=n>transliterated_col</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;transliterated_</span><span class=si>{</span><span class=n>col</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-97 name=__codelineno-0-97 href=#__codelineno-0-97></a>      <span class=n>match_result_col</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;match_percentage_</span><span class=si>{</span><span class=n>transliterated_col</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-98 name=__codelineno-0-98 href=#__codelineno-0-98></a>      <span class=n>df</span><span class=p>[</span><span class=n>match_result_col</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>fuzzy_match</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>match_col</span><span class=p>,</span> <span class=n>transliterated_col</span><span class=p>,</span> <span class=n>THRESHOLD</span><span class=p>),</span> <span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-0-99 name=__codelineno-0-99 href=#__codelineno-0-99></a><span class=n>df</span><span class=o>.</span><span class=n>to_excel</span><span class=p>(</span><span class=s2>&quot;transliterated_output.xlsx&quot;</span><span class=p>,</span> <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<a id=__codelineno-0-100 name=__codelineno-0-100 href=#__codelineno-0-100></a>
<a id=__codelineno-0-101 name=__codelineno-0-101 href=#__codelineno-0-101></a><span class=n>file_path</span> <span class=o>=</span> <span class=s1>&#39;unified_translitrated.xlsx&#39;</span>
<a id=__codelineno-0-102 name=__codelineno-0-102 href=#__codelineno-0-102></a><span class=n>trans_and_calculate_fuzzyness</span><span class=p>(</span><span class=n>file_path</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;hf_name_north_using_s_id_3&#39;</span><span class=p>,</span><span class=s1>&#39;hf_name_north_using_7chars_4&#39;</span><span class=p>,</span><span class=s1>&#39;hf_name_digit_5&#39;</span><span class=p>],</span> <span class=s1>&#39;hf_name_ar_south_trans&#39;</span><span class=p>)</span>
</code></pre></div> </li> <li> <p><strong>Normalize and standarize code, multiple purpose:</strong></p> </li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a> <span class=c1># * **Health Facility Cleaning:**</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a> <span class=c1>#   Normalizing health facility names is an essential step in data cleaning to ensure consistency and improve the accuracy of matching during the fuzzy matching process. Here&#39;s how I approached normalizing health facility columns:</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=c1># * **Mount Google Drive:**</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=c1># from google.colab import drive</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=c1># drive.mount(&#39;/content/drive&#39;)</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=c1>## Enable Tables</span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=c1># %load_ext google.colab.data_table</span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=c1>## Install necessary libraries</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=c1># Install necessary libraries</span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=c1># !pip install fuzzywuzzy</span>
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=c1># !pip install geopy</span>
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>
<a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=c1># !pip install transliterate</span>
<a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a>
<a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=c1># !pip install pyspellchecker</span>
<a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=c1># !pip install nltk</span>
<a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=c1># !pip install polyglot</span>
<a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=c1># !pip install langdetect</span>
<a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>
<a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a><span class=c1>## Imports</span>
<a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
<a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a><span class=kn>from</span> <span class=nn>fuzzywuzzy</span> <span class=kn>import</span> <span class=n>fuzz</span>
<a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a><span class=kn>from</span> <span class=nn>geopy.distance</span> <span class=kn>import</span> <span class=n>geodesic</span>
<a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a>
<a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a><span class=c1># from transliterate import translit</span>
<a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a>
<a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a><span class=kn>from</span> <span class=nn>spellchecker</span> <span class=kn>import</span> <span class=n>SpellChecker</span>
<a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a><span class=kn>from</span> <span class=nn>nltk.stem</span> <span class=kn>import</span> <span class=n>PorterStemmer</span>
<a id=__codelineno-1-37 name=__codelineno-1-37 href=#__codelineno-1-37></a><span class=kn>from</span> <span class=nn>nltk.corpus</span> <span class=kn>import</span> <span class=n>stopwords</span>
<a id=__codelineno-1-38 name=__codelineno-1-38 href=#__codelineno-1-38></a><span class=kn>from</span> <span class=nn>polyglot.downloader</span> <span class=kn>import</span> <span class=n>downloader</span>
<a id=__codelineno-1-39 name=__codelineno-1-39 href=#__codelineno-1-39></a><span class=kn>from</span> <span class=nn>polyglot.transliteration</span> <span class=kn>import</span> <span class=n>Transliterator</span>
<a id=__codelineno-1-40 name=__codelineno-1-40 href=#__codelineno-1-40></a><span class=kn>from</span> <span class=nn>polyglot.detect</span> <span class=kn>import</span> <span class=n>Detector</span>
<a id=__codelineno-1-41 name=__codelineno-1-41 href=#__codelineno-1-41></a><span class=kn>from</span> <span class=nn>polyglot.text</span> <span class=kn>import</span> <span class=n>Text</span>
<a id=__codelineno-1-42 name=__codelineno-1-42 href=#__codelineno-1-42></a><span class=kn>from</span> <span class=nn>langdetect</span> <span class=kn>import</span> <span class=n>detect</span>
<a id=__codelineno-1-43 name=__codelineno-1-43 href=#__codelineno-1-43></a>
<a id=__codelineno-1-44 name=__codelineno-1-44 href=#__codelineno-1-44></a><span class=c1># Download NLTK resources</span>
<a id=__codelineno-1-45 name=__codelineno-1-45 href=#__codelineno-1-45></a>
<a id=__codelineno-1-46 name=__codelineno-1-46 href=#__codelineno-1-46></a><span class=kn>import</span> <span class=nn>nltk</span>
<a id=__codelineno-1-47 name=__codelineno-1-47 href=#__codelineno-1-47></a><span class=n>nltk</span><span class=o>.</span><span class=n>download</span><span class=p>(</span><span class=s1>&#39;stopwords&#39;</span><span class=p>)</span>
<a id=__codelineno-1-48 name=__codelineno-1-48 href=#__codelineno-1-48></a>
<a id=__codelineno-1-49 name=__codelineno-1-49 href=#__codelineno-1-49></a><span class=c1>## Load HFs from The Excel file</span>
<a id=__codelineno-1-50 name=__codelineno-1-50 href=#__codelineno-1-50></a>
<a id=__codelineno-1-51 name=__codelineno-1-51 href=#__codelineno-1-51></a><span class=n>df1</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_excel</span><span class=p>(</span><span class=s1>&#39;/content/drive/MyDrive/NMCP_CM _DB/health_facilities_all_edited.xlsx&#39;</span><span class=p>,</span> <span class=n>sheet_name</span><span class=o>=</span><span class=s1>&#39;amd&#39;</span><span class=p>)</span>
<a id=__codelineno-1-52 name=__codelineno-1-52 href=#__codelineno-1-52></a><span class=n>df2</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_excel</span><span class=p>(</span><span class=s1>&#39;/content/drive/MyDrive/NMCP_CM_DB/health_facilities_all_edited.xlsx&#39;</span><span class=p>,</span> <span class=n>sheet_name</span><span class=o>=</span><span class=s1>&#39;standard&#39;</span><span class=p>)</span>
<a id=__codelineno-1-53 name=__codelineno-1-53 href=#__codelineno-1-53></a><span class=n>df3</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_excel</span><span class=p>(</span><span class=s1>&#39;/content/drive/MyDrive/NMCP_CM _DB/health_facilities_all_edited.xlsx&#39;</span><span class=p>,</span> <span class=n>sheet_name</span><span class=o>=</span><span class=s1>&#39;eidwes&#39;</span><span class=p>)</span>
<a id=__codelineno-1-54 name=__codelineno-1-54 href=#__codelineno-1-54></a>
<a id=__codelineno-1-55 name=__codelineno-1-55 href=#__codelineno-1-55></a><span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>concat</span><span class=p>([</span><span class=n>df1</span><span class=p>,</span> <span class=n>df2</span><span class=p>,</span> <span class=n>df3</span><span class=p>],</span> <span class=n>ignore_index</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-1-56 name=__codelineno-1-56 href=#__codelineno-1-56></a><span class=n>df</span>
<a id=__codelineno-1-57 name=__codelineno-1-57 href=#__codelineno-1-57></a>
<a id=__codelineno-1-58 name=__codelineno-1-58 href=#__codelineno-1-58></a><span class=c1>## No transliterate Words</span>
<a id=__codelineno-1-59 name=__codelineno-1-59 href=#__codelineno-1-59></a>
<a id=__codelineno-1-60 name=__codelineno-1-60 href=#__codelineno-1-60></a><span class=n>no_transliterate_hf_names</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-1-61 name=__codelineno-1-61 href=#__codelineno-1-61></a>    <span class=s1>&#39;الوحدة الصحية&#39;</span><span class=p>:</span> <span class=s1>&#39;وحدة صحية&#39;</span><span class=p>,</span>
<a id=__codelineno-1-62 name=__codelineno-1-62 href=#__codelineno-1-62></a>    <span class=s1>&#39;المركز الصحي&#39;</span><span class=p>:</span> <span class=s1>&#39;مركز صحي&#39;</span><span class=p>,</span>
<a id=__codelineno-1-63 name=__codelineno-1-63 href=#__codelineno-1-63></a>    <span class=s1>&#39;المجمع الصحي&#39;</span><span class=p>:</span> <span class=s1>&#39;مجمع صحي&#39;</span><span class=p>,</span>
<a id=__codelineno-1-64 name=__codelineno-1-64 href=#__codelineno-1-64></a>    <span class=s1>&#39;مستشفى&#39;</span><span class=p>:</span> <span class=s1>&#39;مستشفى&#39;</span><span class=p>,</span>
<a id=__codelineno-1-65 name=__codelineno-1-65 href=#__codelineno-1-65></a>    <span class=s1>&#39;مستوصف&#39;</span><span class=p>:</span> <span class=s1>&#39;مستوصف&#39;</span><span class=p>,</span>
<a id=__codelineno-1-66 name=__codelineno-1-66 href=#__codelineno-1-66></a>    <span class=s1>&#39;عيادة&#39;</span><span class=p>:</span> <span class=s1>&#39;عيادة&#39;</span><span class=p>,</span>
<a id=__codelineno-1-67 name=__codelineno-1-67 href=#__codelineno-1-67></a>    <span class=s1>&#39;طوارى&#39;</span><span class=p>:</span> <span class=s1>&#39;طوارئ&#39;</span><span class=p>,</span>
<a id=__codelineno-1-68 name=__codelineno-1-68 href=#__codelineno-1-68></a>    <span class=s1>&#39;امومة&#39;</span><span class=p>:</span> <span class=s1>&#39;الأمومة&#39;</span><span class=p>,</span>
<a id=__codelineno-1-69 name=__codelineno-1-69 href=#__codelineno-1-69></a>    <span class=s1>&#39;طفولة&#39;</span><span class=p>:</span> <span class=s1>&#39;الطفولة&#39;</span><span class=p>,</span>
<a id=__codelineno-1-70 name=__codelineno-1-70 href=#__codelineno-1-70></a>    <span class=s1>&#39;الهلال&#39;</span><span class=p>:</span> <span class=s1>&#39;الهلال&#39;</span><span class=p>,</span>
<a id=__codelineno-1-71 name=__codelineno-1-71 href=#__codelineno-1-71></a>    <span class=s1>&#39;الصليب&#39;</span><span class=p>:</span> <span class=s1>&#39;الصليب&#39;</span><span class=p>,</span>
<a id=__codelineno-1-72 name=__codelineno-1-72 href=#__codelineno-1-72></a>    <span class=s1>&#39;الأحمر&#39;</span><span class=p>:</span> <span class=s1>&#39;أحمر&#39;</span><span class=p>,</span>
<a id=__codelineno-1-73 name=__codelineno-1-73 href=#__codelineno-1-73></a>    <span class=s1>&#39;الطبي&#39;</span><span class=p>:</span> <span class=s1>&#39;الطبي&#39;</span><span class=p>,</span>
<a id=__codelineno-1-74 name=__codelineno-1-74 href=#__codelineno-1-74></a>    <span class=s1>&#39;سجن مركزي&#39;</span><span class=p>:</span> <span class=s1>&#39;سجن مركزي&#39;</span><span class=p>,</span>
<a id=__codelineno-1-75 name=__codelineno-1-75 href=#__codelineno-1-75></a>    <span class=s1>&#39;سجن المركزي&#39;</span><span class=p>:</span> <span class=s1>&#39;سجن مركزي&#39;</span><span class=p>,</span>
<a id=__codelineno-1-76 name=__codelineno-1-76 href=#__codelineno-1-76></a>    <span class=s1>&#39;المركزي&#39;</span><span class=p>:</span> <span class=s1>&#39;المركزي&#39;</span><span class=p>,</span>
<a id=__codelineno-1-77 name=__codelineno-1-77 href=#__codelineno-1-77></a>    <span class=s1>&#39;مركز&#39;</span><span class=p>:</span> <span class=s1>&#39;مركز صحي&#39;</span><span class=p>,</span>
<a id=__codelineno-1-78 name=__codelineno-1-78 href=#__codelineno-1-78></a>    <span class=s1>&#39;الصحية&#39;</span><span class=p>:</span> <span class=s1>&#39;وحدة صحية&#39;</span><span class=p>,</span>
<a id=__codelineno-1-79 name=__codelineno-1-79 href=#__codelineno-1-79></a>    <span class=s1>&#39;وحدة&#39;</span><span class=p>:</span> <span class=s1>&#39;وحدة صحية&#39;</span><span class=p>,</span>
<a id=__codelineno-1-80 name=__codelineno-1-80 href=#__codelineno-1-80></a>    <span class=s1>&#39;صحي&#39;</span><span class=p>:</span> <span class=s1>&#39;مركز صحي&#39;</span><span class=p>,</span>
<a id=__codelineno-1-81 name=__codelineno-1-81 href=#__codelineno-1-81></a>    <span class=s1>&#39;النفسية&#39;</span><span class=p>:</span> <span class=s1>&#39;النفسية&#39;</span><span class=p>,</span>
<a id=__codelineno-1-82 name=__codelineno-1-82 href=#__codelineno-1-82></a>    <span class=s1>&#39;الجامعي&#39;</span><span class=p>:</span> <span class=s1>&#39;التعليمي&#39;</span><span class=p>,</span>
<a id=__codelineno-1-83 name=__codelineno-1-83 href=#__codelineno-1-83></a>    <span class=s1>&#39;التعليمي&#39;</span><span class=p>:</span> <span class=s1>&#39;التعليمي&#39;</span><span class=p>,</span>
<a id=__codelineno-1-84 name=__codelineno-1-84 href=#__codelineno-1-84></a>    <span class=s1>&#39;مختبر&#39;</span><span class=p>:</span> <span class=s1>&#39;مختبر&#39;</span><span class=p>,</span>
<a id=__codelineno-1-85 name=__codelineno-1-85 href=#__codelineno-1-85></a>    <span class=s1>&#39;الوطني&#39;</span><span class=p>:</span> <span class=s1>&#39;الوطني&#39;</span><span class=p>,</span>
<a id=__codelineno-1-86 name=__codelineno-1-86 href=#__codelineno-1-86></a>    <span class=s1>&#39;العامة&#39;</span><span class=p>:</span> <span class=s1>&#39;العام&#39;</span><span class=p>,</span>
<a id=__codelineno-1-87 name=__codelineno-1-87 href=#__codelineno-1-87></a>    <span class=s1>&#39;الخاص&#39;</span><span class=p>:</span> <span class=s1>&#39;الخاص&#39;</span><span class=p>,</span>
<a id=__codelineno-1-88 name=__codelineno-1-88 href=#__codelineno-1-88></a><span class=p>}</span>
<a id=__codelineno-1-89 name=__codelineno-1-89 href=#__codelineno-1-89></a>
<a id=__codelineno-1-90 name=__codelineno-1-90 href=#__codelineno-1-90></a><span class=c1>## Transiltrate Arabic HFs sheets (AMD, And Herams)</span>
<a id=__codelineno-1-91 name=__codelineno-1-91 href=#__codelineno-1-91></a>
<a id=__codelineno-1-92 name=__codelineno-1-92 href=#__codelineno-1-92></a><span class=k>def</span> <span class=nf>transliterate_arabic_to_english</span><span class=p>(</span><span class=n>arabic_name</span><span class=p>):</span>
<a id=__codelineno-1-93 name=__codelineno-1-93 href=#__codelineno-1-93></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-1-94 name=__codelineno-1-94 href=#__codelineno-1-94></a>        <span class=c1># Transliterate Arabic name to English using ISO 233-2 standard</span>
<a id=__codelineno-1-95 name=__codelineno-1-95 href=#__codelineno-1-95></a>        <span class=n>english_name</span> <span class=o>=</span> <span class=n>translit</span><span class=p>(</span><span class=n>arabic_name</span><span class=p>,</span> <span class=s1>&#39;ar&#39;</span><span class=p>,</span> <span class=nb>reversed</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-1-96 name=__codelineno-1-96 href=#__codelineno-1-96></a>        <span class=k>return</span> <span class=n>english_name</span>
<a id=__codelineno-1-97 name=__codelineno-1-97 href=#__codelineno-1-97></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-1-98 name=__codelineno-1-98 href=#__codelineno-1-98></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error transliterating </span><span class=si>{</span><span class=n>arabic_name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-1-99 name=__codelineno-1-99 href=#__codelineno-1-99></a>        <span class=k>return</span> <span class=n>arabic_name</span>
<a id=__codelineno-1-100 name=__codelineno-1-100 href=#__codelineno-1-100></a>
<a id=__codelineno-1-101 name=__codelineno-1-101 href=#__codelineno-1-101></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_transliterated&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=n>transliterate_arabic_to_english</span><span class=p>)</span>
<a id=__codelineno-1-102 name=__codelineno-1-102 href=#__codelineno-1-102></a>
<a id=__codelineno-1-103 name=__codelineno-1-103 href=#__codelineno-1-103></a><span class=c1># # Spell checking</span>
<a id=__codelineno-1-104 name=__codelineno-1-104 href=#__codelineno-1-104></a>
<a id=__codelineno-1-105 name=__codelineno-1-105 href=#__codelineno-1-105></a><span class=c1># spell = SpellChecker()</span>
<a id=__codelineno-1-106 name=__codelineno-1-106 href=#__codelineno-1-106></a>
<a id=__codelineno-1-107 name=__codelineno-1-107 href=#__codelineno-1-107></a><span class=c1># df[&#39;facility_name_transliterated&#39;] = df[&#39;facility_name_transliterated&#39;].apply(lambda x: &#39; &#39;.join([spell.correction(word) for word in x.split()]))</span>
<a id=__codelineno-1-108 name=__codelineno-1-108 href=#__codelineno-1-108></a>
<a id=__codelineno-1-109 name=__codelineno-1-109 href=#__codelineno-1-109></a> <span class=n>df</span>
<a id=__codelineno-1-110 name=__codelineno-1-110 href=#__codelineno-1-110></a>
<a id=__codelineno-1-111 name=__codelineno-1-111 href=#__codelineno-1-111></a><span class=c1>## Normalize health facility names</span>
<a id=__codelineno-1-112 name=__codelineno-1-112 href=#__codelineno-1-112></a>
<a id=__codelineno-1-113 name=__codelineno-1-113 href=#__codelineno-1-113></a><span class=c1>### Common Normalizing steps</span>
<a id=__codelineno-1-114 name=__codelineno-1-114 href=#__codelineno-1-114></a>
<a id=__codelineno-1-115 name=__codelineno-1-115 href=#__codelineno-1-115></a><span class=c1># * Handle empty values.</span>
<a id=__codelineno-1-116 name=__codelineno-1-116 href=#__codelineno-1-116></a>
<a id=__codelineno-1-117 name=__codelineno-1-117 href=#__codelineno-1-117></a><span class=c1># * Handle numeric values or containing numbers.</span>
<a id=__codelineno-1-118 name=__codelineno-1-118 href=#__codelineno-1-118></a><span class=c1># * Convert all health facility names to lowercase for consistency.</span>
<a id=__codelineno-1-119 name=__codelineno-1-119 href=#__codelineno-1-119></a><span class=c1># * Remove punctuation and special characters to ensure clean text.</span>
<a id=__codelineno-1-120 name=__codelineno-1-120 href=#__codelineno-1-120></a><span class=c1># * Strip leading and trailing whitespaces to prevent inconsistencies.</span>
<a id=__codelineno-1-121 name=__codelineno-1-121 href=#__codelineno-1-121></a><span class=c1># * Replace multiple spaces with a single space for uniformity.</span>
<a id=__codelineno-1-122 name=__codelineno-1-122 href=#__codelineno-1-122></a>
<a id=__codelineno-1-123 name=__codelineno-1-123 href=#__codelineno-1-123></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span>
<a id=__codelineno-1-124 name=__codelineno-1-124 href=#__codelineno-1-124></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>fillna</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
<a id=__codelineno-1-125 name=__codelineno-1-125 href=#__codelineno-1-125></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
<a id=__codelineno-1-126 name=__codelineno-1-126 href=#__codelineno-1-126></a>
<a id=__codelineno-1-127 name=__codelineno-1-127 href=#__codelineno-1-127></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>str</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
<a id=__codelineno-1-128 name=__codelineno-1-128 href=#__codelineno-1-128></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>str</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;[^\w\s]&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>
<a id=__codelineno-1-129 name=__codelineno-1-129 href=#__codelineno-1-129></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>str</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
<a id=__codelineno-1-130 name=__codelineno-1-130 href=#__codelineno-1-130></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name_norm&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>str</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;\s+&#39;</span><span class=p>,</span> <span class=s1>&#39; &#39;</span><span class=p>)</span>
<a id=__codelineno-1-131 name=__codelineno-1-131 href=#__codelineno-1-131></a>
<a id=__codelineno-1-132 name=__codelineno-1-132 href=#__codelineno-1-132></a><span class=c1>### Other Normalizing steps</span>
<a id=__codelineno-1-133 name=__codelineno-1-133 href=#__codelineno-1-133></a>
<a id=__codelineno-1-134 name=__codelineno-1-134 href=#__codelineno-1-134></a><span class=c1># * Expand common abbreviations to their full form for better matching.</span>
<a id=__codelineno-1-135 name=__codelineno-1-135 href=#__codelineno-1-135></a><span class=c1># * removing common stop words that do not contribute significantly to the identification of a facility.</span>
<a id=__codelineno-1-136 name=__codelineno-1-136 href=#__codelineno-1-136></a><span class=c1># * Create a mapping for synonyms or variations in facility names to standardize them.</span>
<a id=__codelineno-1-137 name=__codelineno-1-137 href=#__codelineno-1-137></a><span class=c1># * Applies stemming to reduce words to their base or root form and removes common English stop words.</span>
<a id=__codelineno-1-138 name=__codelineno-1-138 href=#__codelineno-1-138></a><span class=c1># * Optionally, perform spell checking to correct common typos or misspellings.</span>
<a id=__codelineno-1-139 name=__codelineno-1-139 href=#__codelineno-1-139></a>
<a id=__codelineno-1-140 name=__codelineno-1-140 href=#__codelineno-1-140></a><span class=c1># Replace</span>
<a id=__codelineno-1-141 name=__codelineno-1-141 href=#__codelineno-1-141></a>
<a id=__codelineno-1-142 name=__codelineno-1-142 href=#__codelineno-1-142></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>replace</span><span class=p>({</span><span class=s1>&#39; H &#39;</span><span class=p>:</span> <span class=s1>&#39; Hospital &#39;</span><span class=p>},</span> <span class=n>regex</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-1-143 name=__codelineno-1-143 href=#__codelineno-1-143></a>
<a id=__codelineno-1-144 name=__codelineno-1-144 href=#__codelineno-1-144></a><span class=n>stop_words</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>stopwords</span><span class=o>.</span><span class=n>words</span><span class=p>(</span><span class=s1>&#39;english&#39;</span><span class=p>))</span>
<a id=__codelineno-1-145 name=__codelineno-1-145 href=#__codelineno-1-145></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=s1>&#39; &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=n>word</span> <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>x</span><span class=o>.</span><span class=n>split</span><span class=p>()</span> <span class=k>if</span> <span class=n>word</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>stop_words</span><span class=p>]))</span>
<a id=__codelineno-1-146 name=__codelineno-1-146 href=#__codelineno-1-146></a>
<a id=__codelineno-1-147 name=__codelineno-1-147 href=#__codelineno-1-147></a><span class=c1># Replace synonyms with a common names</span>
<a id=__codelineno-1-148 name=__codelineno-1-148 href=#__codelineno-1-148></a>
<a id=__codelineno-1-149 name=__codelineno-1-149 href=#__codelineno-1-149></a><span class=n>synonym_mapping</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;HU&#39;</span><span class=p>:</span> <span class=s1>&#39;Health Unit&#39;</span><span class=p>}</span>
<a id=__codelineno-1-150 name=__codelineno-1-150 href=#__codelineno-1-150></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>synonym_mapping</span><span class=p>,</span> <span class=n>regex</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-1-151 name=__codelineno-1-151 href=#__codelineno-1-151></a>
<a id=__codelineno-1-152 name=__codelineno-1-152 href=#__codelineno-1-152></a><span class=c1># NLTK for stemming</span>
<a id=__codelineno-1-153 name=__codelineno-1-153 href=#__codelineno-1-153></a>
<a id=__codelineno-1-154 name=__codelineno-1-154 href=#__codelineno-1-154></a><span class=n>stemmer</span> <span class=o>=</span> <span class=n>PorterStemmer</span><span class=p>()</span>
<a id=__codelineno-1-155 name=__codelineno-1-155 href=#__codelineno-1-155></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=s1>&#39; &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=n>stemmer</span><span class=o>.</span><span class=n>stem</span><span class=p>(</span><span class=n>word</span><span class=p>)</span> <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>x</span><span class=o>.</span><span class=n>split</span><span class=p>()]))</span>
<a id=__codelineno-1-156 name=__codelineno-1-156 href=#__codelineno-1-156></a>
<a id=__codelineno-1-157 name=__codelineno-1-157 href=#__codelineno-1-157></a><span class=c1># Spellchecker</span>
<a id=__codelineno-1-158 name=__codelineno-1-158 href=#__codelineno-1-158></a>
<a id=__codelineno-1-159 name=__codelineno-1-159 href=#__codelineno-1-159></a><span class=n>spell</span> <span class=o>=</span> <span class=n>SpellChecker</span><span class=p>()</span>
<a id=__codelineno-1-160 name=__codelineno-1-160 href=#__codelineno-1-160></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;facility_name&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=s1>&#39; &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=n>spell</span><span class=o>.</span><span class=n>correction</span><span class=p>(</span><span class=n>word</span><span class=p>)</span> <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>x</span><span class=o>.</span><span class=n>split</span><span class=p>()]))</span>
<a id=__codelineno-1-161 name=__codelineno-1-161 href=#__codelineno-1-161></a>
<a id=__codelineno-1-162 name=__codelineno-1-162 href=#__codelineno-1-162></a><span class=c1>## Normalize GPS coordinates</span>
<a id=__codelineno-1-163 name=__codelineno-1-163 href=#__codelineno-1-163></a>
<a id=__codelineno-1-164 name=__codelineno-1-164 href=#__codelineno-1-164></a><span class=c1># This step ensures that coordinates are represented consistently and reduces noise.</span>
<a id=__codelineno-1-165 name=__codelineno-1-165 href=#__codelineno-1-165></a>
<a id=__codelineno-1-166 name=__codelineno-1-166 href=#__codelineno-1-166></a><span class=c1># * Round latitude and longitude to 6 decimal places for consistency.</span>
<a id=__codelineno-1-167 name=__codelineno-1-167 href=#__codelineno-1-167></a><span class=c1># * Check for missing or invalid coordinates and removing records with missing coordinates.</span>
<a id=__codelineno-1-168 name=__codelineno-1-168 href=#__codelineno-1-168></a><span class=c1># * Outlier Detection</span>
<a id=__codelineno-1-169 name=__codelineno-1-169 href=#__codelineno-1-169></a>
<a id=__codelineno-1-170 name=__codelineno-1-170 href=#__codelineno-1-170></a><span class=c1># Format latitude and longitude to a consistent number of decimal places</span>
<a id=__codelineno-1-171 name=__codelineno-1-171 href=#__codelineno-1-171></a>
<a id=__codelineno-1-172 name=__codelineno-1-172 href=#__codelineno-1-172></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;latitude&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;latitude&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>round</span><span class=p>(</span><span class=mi>6</span><span class=p>)</span>
<a id=__codelineno-1-173 name=__codelineno-1-173 href=#__codelineno-1-173></a><span class=n>df</span><span class=p>[</span><span class=s1>&#39;longitude&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;longitude&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>round</span><span class=p>(</span><span class=mi>6</span><span class=p>)</span>
<a id=__codelineno-1-174 name=__codelineno-1-174 href=#__codelineno-1-174></a>
<a id=__codelineno-1-175 name=__codelineno-1-175 href=#__codelineno-1-175></a><span class=c1># Drop rows with missing coordinates</span>
<a id=__codelineno-1-176 name=__codelineno-1-176 href=#__codelineno-1-176></a>
<a id=__codelineno-1-177 name=__codelineno-1-177 href=#__codelineno-1-177></a><span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>dropna</span><span class=p>(</span><span class=n>subset</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;latitude&#39;</span><span class=p>,</span> <span class=s1>&#39;longitude&#39;</span><span class=p>])</span>
<a id=__codelineno-1-178 name=__codelineno-1-178 href=#__codelineno-1-178></a>
<a id=__codelineno-1-179 name=__codelineno-1-179 href=#__codelineno-1-179></a><span class=c1># Remove outliers based on a predefined threshold</span>
<a id=__codelineno-1-180 name=__codelineno-1-180 href=#__codelineno-1-180></a>
<a id=__codelineno-1-181 name=__codelineno-1-181 href=#__codelineno-1-181></a><span class=n>latitude_threshold</span> <span class=o>=</span> <span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s1>&#39;latitude&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>quantile</span><span class=p>(</span><span class=mf>0.01</span><span class=p>),</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;latitude&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>quantile</span><span class=p>(</span><span class=mf>0.99</span><span class=p>))</span>
<a id=__codelineno-1-182 name=__codelineno-1-182 href=#__codelineno-1-182></a><span class=n>longitude_threshold</span> <span class=o>=</span> <span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s1>&#39;longitude&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>quantile</span><span class=p>(</span><span class=mf>0.01</span><span class=p>),</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;longitude&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>quantile</span><span class=p>(</span><span class=mf>0.99</span><span class=p>))</span>
<a id=__codelineno-1-183 name=__codelineno-1-183 href=#__codelineno-1-183></a>
<a id=__codelineno-1-184 name=__codelineno-1-184 href=#__codelineno-1-184></a><span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=p>[(</span><span class=n>df</span><span class=p>[</span><span class=s1>&#39;latitude&#39;</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>latitude_threshold</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=o>&amp;</span> <span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s1>&#39;latitude&#39;</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>latitude_threshold</span><span class=p>[</span><span class=mi>1</span><span class=p>])]</span>
<a id=__codelineno-1-185 name=__codelineno-1-185 href=#__codelineno-1-185></a><span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=p>[(</span><span class=n>df</span><span class=p>[</span><span class=s1>&#39;longitude&#39;</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>longitude_threshold</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=o>&amp;</span> <span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s1>&#39;longitude&#39;</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>longitude_threshold</span><span class=p>[</span><span class=mi>1</span><span class=p>])]</span>
</code></pre></div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2024-03-26T19:48:48+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-03-26</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4Z"/></svg> </span> <nav> <a href=mailto:hamza@nmcpye.org>Hamza</a> </nav> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../additional-data/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Additional Data"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Additional Data </div> </div> </a> <a href=../index-old/ class="md-footer__link md-footer__link--next" aria-label="Next: NMCP Yemen Data Mapping Docs"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> NMCP Yemen Data Mapping Docs </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2023 <a href=https://github.com/Hamza-ye/nmcpye-data-mapping target=_blank rel=noopener>NMCP Yemen</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/Hamza-ye target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.code.annotate", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.bd41221c.min.js></script> <script src=../js/timeago.min.js></script> <script src=../js/timeago_mkdocs_material.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js></script> <script src=../javascripts/tablesort.js></script> <script src=../javascripts/extra.js></script> </body> </html>